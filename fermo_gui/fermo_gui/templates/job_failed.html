{% extends 'base.html' %}

{% block content %}
<div class="container mt-5">
    <div class="row">
        <div class="col">
            <h1 class="fw-semibold lh-2">Job failed</h1>
            <p class="lead mb-3">The job with the ID <b>{{ job_id }}</b> failed unexpected.</p>
            <p class="lead mb-3">For more details, see the log below.</p>
            <p class="lead mb-3">Please consider opening an <a class="custom-link" target="_blank" href="github.com/fermo-metabolomics/fermo/issues"><b>Issue</b></a> to help us improve <i>FERMO</i>.</p>
        </div>
    </div>
    <div class="row mt-4">
        <div class="col">
            <div class="bg-dark text-light p-3 rounded position-relative" style="max-height: 400px; overflow-y: auto; font-family: monospace; font-size: 0.9rem;">
                <button class="btn btn-sm btn-outline-light position-absolute top-0 end-0 m-2" data-clipboard-target="#logContent" id="logContentButton" >Copy to clipboard</button>
                <pre class="m-0 p-0"><code class="d-block" id="logContent">
                {% if log %}
                {% for entry in log %}
                {{ entry }}
                {% endfor %}
                {% else %}
                No log entries available.
                {% endif %}
                </code></pre>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript" src="{{ url_for('static', filename='js/copy_clipboard.js') }}" defer></script>

{% endblock %}